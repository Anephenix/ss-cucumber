// Generated by CoffeeScript 1.3.1
(function() {
  var fs;

  fs = require("fs");

  module.exports = {
    init: function(path, coffee, callback) {
      var file_extension, step_file, world;
      file_extension = coffee ? "coffee" : "js";
      world = fs.readFileSync("" + __dirname + "/../copy/world." + file_extension, 'utf8');
      step_file = fs.readFileSync("" + __dirname + "/../copy/socketstream_steps." + file_extension, 'utf8');
      return fs.mkdir("" + path + "/features", function(err) {
        if (err != null) {
          throw err;
        }
        return fs.mkdir("" + path + "/features/support", function(err) {
          if (err != null) {
            throw err;
          }
          return fs.mkdir("" + path + "/features/step_definitions", function(err) {
            if (err != null) {
              throw err;
            }
            return fs.writeFile("" + path + "/features/support/world." + file_extension, world, function(err) {
              if (err != null) {
                throw err;
              }
              return fs.writeFile("" + path + "/features/step_definitions/socketstream_steps." + file_extension, step_file, function(err) {
                if (err != null) {
                  throw err;
                }
                if (callback != null) {
                  return callback();
                }
              });
            });
          });
        });
      });
    }
  };

}).call(this);
